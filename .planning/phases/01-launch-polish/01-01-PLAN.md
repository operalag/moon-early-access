---
phase: 01-launch-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/leaderboard/page.tsx
autonomous: false

must_haves:
  truths:
    - "Leaderboard displays name and avatar only"
    - "No @username visible on leaderboard entries"
    - "User has specified visual polish requirements (or confirmed none needed)"
  artifacts:
    - path: "src/app/leaderboard/page.tsx"
      provides: "Leaderboard display without username"
      contains: "user.first_name"
      not_contains: "@{user.username"
  key_links:
    - from: "src/app/leaderboard/page.tsx"
      to: "LeaderboardEntry type"
      via: "renders first_name and avatar_url"
      pattern: "user\\.first_name"
---

<objective>
Remove @username from leaderboard entries and gather user specifications for visual polish.

Purpose: Ship the concrete @username fix immediately, then capture user's specific visual tweak and page reordering requirements for Plan 02 to implement.

Output: Leaderboard page displaying name + avatar without @username, plus documented user specifications for follow-up implementation.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/codebase/CONVENTIONS.md
@src/app/leaderboard/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove @username from leaderboard entries</name>
  <files>src/app/leaderboard/page.tsx</files>
  <action>
In `src/app/leaderboard/page.tsx`, remove the username display from leaderboard entries.

Current code (lines 127-129):
```tsx
<p className="text-[10px] text-white/30 font-mono">
    @{user.username || 'anon'}
</p>
```

Remove these 3 lines entirely. The leaderboard entry should show:
- Rank (number or icon)
- Avatar (image or first initial)
- First name (user.first_name)
- Points

Do NOT modify:
- The LeaderboardEntry type (keep username field - API still returns it)
- The API call or data fetching logic
- The tabs or header
- Any other styling

The result should be a cleaner entry with just name and points visible to users.
  </action>
  <verify>
Run `npm run build` to ensure no TypeScript errors. Visually inspect the code to confirm the username paragraph element is removed.
  </verify>
  <done>
Leaderboard entry component no longer renders @username. Only first_name, avatar, and points are displayed for each user.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Verify leaderboard and specify visual polish requirements</name>
  <what-built>
Leaderboard page with @username removed from entries. Each entry now shows only:
- Rank icon/number
- Avatar (photo or initial)
- Name (first_name)
- Points
  </what-built>
  <how-to-verify>
1. Run `npm run dev` and open the app in Telegram Web App test mode
2. Navigate to the Leaderboard page
3. Verify entries show name and avatar only (no @username visible)
4. Check all three tabs (All Time, This Week, Today)

After verifying leaderboard, specify polish requirements for Plan 02:
  </how-to-verify>
  <resume-signal>
Respond with ONE of the following:

**Option A - No additional polish needed:**
Type "approved - no additional polish"

**Option B - Specify polish requirements:**
Provide specific details for Plan 02 to implement:

1. **Visual tweaks** (be specific - which pages, which elements, what changes):
   - Example: "Home page: increase hero text size from text-2xl to text-3xl"
   - Example: "Spin wheel: change border color from white to gold"

2. **Page element reordering** (specify which page and desired order):
   - Example: "Home page: move leaderboard preview above the spin button"
   - Example: "Profile page: move achievements section to the top"

If you have tweaks to specify, Plan 02 will implement them.
  </resume-signal>
</task>

</tasks>

<verification>
- [ ] Leaderboard entries display name + avatar only
- [ ] No @username visible anywhere on leaderboard
- [ ] Build passes without errors
- [ ] User has verified visual appearance
- [ ] User has specified polish requirements (or confirmed none needed)
</verification>

<success_criteria>
- Leaderboard page renders without @username on any entry
- User confirms leaderboard appearance is acceptable
- Visual polish requirements captured in checkpoint response (or confirmed as none)
</success_criteria>

<output>
After completion, create `.planning/phases/01-launch-polish/01-01-SUMMARY.md`

IMPORTANT: If user specifies visual tweaks or page reordering requirements at the checkpoint, record them in the SUMMARY under a "## User-Specified Requirements" section. Plan 02 will reference this SUMMARY to implement the requirements.
</output>
